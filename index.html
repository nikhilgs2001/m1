<html>
<head>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<style>
body{
	background-color: #262626;
}
.h1{
text-align: center;
color: #cccccc;
font-size: 40px;
font-family: 'Courier New', monospace;
}

.h3{
  text-align: center;
}
.canvas-wrap {
  margin-top: 50px;
  position: relative;
}
#canvasID {
  z-index: 9999;
}
.canvas {
  background-color: #eee;
   opacity: 0;
  transition: opacity .3s;
  &.show {
    opacity: 1;
  }
}
  ::-webkit-file-upload-button{
   font-size: 20px;
   padding:14px 14px;
   color:white;
   background-color: #ff8c00;
   border-radius: 24px;
   border-color:transparent;
outline: none;
  }

.ji{
  color:red;
}

.btn{
  text-align: center;
  padding:16px 16px;
  color:white;
  background-color: #3271e7;
  border-color:transparent;
  border-radius: 12px;
  font-size: 20px;
  outline: none;
}
}


.h2{

text-align: center;
padding:16px 16px;
color:white;
background-color: #3271e7;
border-color:transparent;
border-radius: 12px;
font-size: 20px;
outline: none;


}























</style>
	</head>
<body>
<div class="h1">
	<br>
	Create your own MEME !.!..!...
</div>
<div class="ji">
	<br><br><br>
<input type="file" id="imageLoader"><span style="color:white;font-family: 'Courier New', monospace;font-size: 20px;outline: none;">&nbsp;or Drag and Drop Here..</span>
<br><br><br><br>
</div>
<div id="canvas-wrap">
<canvas style="display: block;" id="imageCanvas">
<canvas id="canvasID"></canvas><br><br>
</div><br><br>
<div class="h3">
<button class="btn" onclick="show()">Add Text</button>
</div>
<br><br>


















<p id ="demo"></p>
<script>
	var ii1=0,ii2=0,ii3=0,ii4=0,ii5=0,ii6=0,iii3=0,jj1=0,jj2=0;
var x=0,y=10,z=100,w=1000,o=10000,jjj0=0,jjj1=0,jjj2=0,jjj3=0;
var k="";
var y1 ="",y3="",y2="",y0="";
var imageLoader = document.getElementById('imageLoader');
    imageLoader.addEventListener('change', handleImage, false);

var canvas = document.getElementById('imageCanvas');
var ctx = canvas.getContext('2d');
var cFont = ctx.font;
var img = new Image();
img.crossOrigin="anonymous";


function post(){
 
        DrawOverlay(img);
        DrawText(); 
        DynamicText(img);   
    

   
}


function DrawOverlay(img) {
    ctx.drawImage(img,0,0);
    ctx.fillStyle = 'transparent';
    ctx.fillRect(0, 0,canvas.width, canvas.height);
}
function DrawText() {
	
    ctx.textBaseline = 'middle';
  
   if(x==1){
    
    ii1=document.getElementById("11").value;
    ii2=document.getElementById("101").value;
    jj1=document.getElementById("1001").value;
    jjj0=document.getElementById("10001").value;
    ctx.fillStyle = jj1;
    var fontArgs = ctx.font.split(' ');
    var newSize = jjj0+"px";
    ctx.font = newSize + ' ' + fontArgs[fontArgs.length - 1];
    
       ctx.fillText(y0,ii1,ii2);
      
    }
    if(x==2){
      ii1=document.getElementById("11").value;
    ii2=document.getElementById("101").value;
    jj1=document.getElementById("1001").value;
     jjj0=document.getElementById("10001").value;
    ii3=document.getElementById("12").value;
    ii4=document.getElementById("102").value;
    jj2=document.getElementById("1002").value;
     jjj1=document.getElementById("10002").value;
    ctx.fillStyle = jj1;
    var fontArgs = ctx.font.split(' ');
    var newSize = jjj0+"px";
    ctx.font = newSize + ' ' + fontArgs[fontArgs.length - 1];
    
      ctx.fillText(y0,ii1,ii2);
      var fontArgs = ctx.font.split(' ');
    var newSize = jjj1+"px";
    ctx.font = newSize + ' ' + fontArgs[fontArgs.length - 1];
    
      ctx.fillStyle = jj2;
      ctx.fillText(y1,ii3,ii4);
    }
    if(x==3){
      ii1=document.getElementById("11").value;
    ii2=document.getElementById("101").value;
    ii3=document.getElementById("12").value;
    ii4=document.getElementById("102").value;
    ii5=document.getElementById("13").value;
    ii6=document.getElementById("103").value;
      ctx.fillText(y0,ii1,ii2);
      ctx.fillText(y1,ii3,ii4);
      ctx.fillText(y2,ii5,ii6);
   }




    else{

    }
}
function DynamicText(img) {
  document.getElementById(x).addEventListener('keyup', function() {
    ctx.clearRect(0, 0,canvas.width, canvas.height);
    DrawOverlay(img);
    DrawText(); 
  
     if(x==1){
      ii1=document.getElementById("11").value;
    ii2=document.getElementById("101").value;
    y0=document.getElementById("1").value;
       ctx.fillText(y0,ii1,ii2);
      
    }
    if(x==2){
      ii1=document.getElementById("11").value;
    ii2=document.getElementById("101").value;
    ii3=document.getElementById("12").value;
    ii4=document.getElementById("102").value;
     y1=document.getElementById("2").value;
      ctx.fillText(y0,ii1,ii2);
      ctx.fillText(y1,ii3,ii4);
    }
    if(x==3){
      ii1=document.getElementById("11").value;
    ii2=document.getElementById("101").value;
    ii3=document.getElementById("12").value;
    ii4=document.getElementById("102").value;
     ii5=document.getElementById("13").value;
    ii6=document.getElementById("103").value;
     y2=document.getElementById("3").value;
      ctx.fillText(y0,ii1,ii2);
      ctx.fillText(y1,ii3,ii4);
      ctx.fillText(y2,ii5,ii6);
    }
    else{

    }
    

   
  

  });
}
function handleImage(e) {
    var reader = new FileReader();
    
    var src = "";
    reader.onload = function(event) {
        
        img.onload = function() {
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img,0,0);
        }
        img.src = event.target.result;
        src = event.target.result;
        canvas.classList.add("show");
        DrawOverlay(img);
        DrawText(); 
        DynamicText(img);   
    }

    reader.readAsDataURL(e.target.files[0]); 
 
}
function download(){
	var link=document.createElement("a");
	document.body.appendChild(link);
	link.download="html_image.png";
	link.href=canvas.toDataURL("image/png");
	link.target="_blank";
	link.click();
}


function show(){
 x=x+1;
 y=y+1;
 z=z+1;
 w=w+1;
 o=o+1;
    var objNewDiv = document.createElement('div');
    //objNewDiv.setAttribute('id', 'div_' + x);
    
    objNewDiv.innerHTML = '<input type="text" id="'+x+'" name="'+x+'" style="color:red;padding:10px 20px;border-radius:16px;font-size: 25px;outline:none;border-color:transparent;"  oninput="post()"/>&nbsp;&nbsp;&nbsp;&nbsp;<input type="range" min="0" max="1000" value="0" id="'+y+'" oninput="post()"/><input type="range" min="0" max="1000" value="10" id="'+z+'" style="transform: rotate(-270deg);" oninput="post()"/><input type="range" min="0" max="300" value="30" id="'+o+'" oninput="post()"/>&nbsp;&nbsp;&nbsp;&nbsp;<input type="color" id="'+w+'" onchange="post()"><br><br><br><br><br><br><br><br>';
    document.getElementById('demo').appendChild(objNewDiv);
}















</script>
<div class="h3">


<button class="btn" onclick="download()"><i class="fa fa-download" ></i> Download Meme</button>


<br><br><br><br>



</div>

<footer>
 <span style="color:white;font-family: 'Courier New', monospace;"> If you are facing any issue please mail to nikhilgs2001@gmail.com </span>
</footer>









</body>	
</html>
